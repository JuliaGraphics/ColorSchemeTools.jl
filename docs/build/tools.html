<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tools · ColorSchemeTools</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="ColorSchemeTools logo"/></a><h1>ColorSchemeTools</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li class="current"><a class="toctext" href="tools.html">Tools</a><ul class="internal"><li><a class="toctext" href="#Extracting-colorschemes-from-images-1">Extracting colorschemes from images</a></li><li><a class="toctext" href="#Sorting-color-schemes-1">Sorting color schemes</a></li><li><a class="toctext" href="#Weighted-colorschemes-1">Weighted colorschemes</a></li></ul></li><li><a class="toctext" href="convertingimages.html">Converting image colors</a></li><li><a class="toctext" href="makingschemes.html">Making colorschemes</a></li><li><a class="toctext" href="output.html">Saving colorschemes</a></li><li><a class="toctext" href="functionindex.html">Index</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="tools.html">Tools</a></li></ul><a class="edit-page" href="https://github.com/JuliaGraphics/ColorSchemeTools.jl/blob/master/docs/src/tools.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Tools</span><a class="fa fa-bars" href="#"></a></div></header><h2><a class="nav-anchor" id="Extracting-colorschemes-from-images-1" href="#Extracting-colorschemes-from-images-1">Extracting colorschemes from images</a></h2><p>You can extract a colorscheme from an image. For example, here&#39;s an image of a famous painting:</p><p><img src="assets/figures/monalisa.jpg" alt="&quot;the mona lisa&quot;"/></p><p>Use the <code>extract()</code> function to create a color scheme from the original image:</p><pre><code class="language-none">using ColorSchemeTools
monalisa = extract(&quot;monalisa.jpg&quot;, 10, 15, 0.01; shrink=2)</code></pre><p>which in this example creates a 10-color ColorScheme object (using 15 iterations and with a tolerance of 0.01; the image can be reduced in size, here by 2, before processing, to save time).</p><p><img src="assets/figures/mona-lisa-extract.png" alt="&quot;mona lisa extraction&quot;"/></p><pre><code class="language-none">ColorSchemes.ColorScheme(ColorTypes.RGB{Float64}[
    RGB{Float64}(0.0406901,0.0412985,0.0423865),
    RGB{Float64}(0.823493,0.611246,0.234261),
    RGB{Float64}(0.374688,0.363066,0.182004),
    RGB{Float64}(0.262235,0.239368,0.110915),
    RGB{Float64}(0.614806,0.428448,0.112495),
    RGB{Float64}(0.139384,0.124466,0.0715472),
    RGB{Float64}(0.627381,0.597513,0.340734),
    RGB{Float64}(0.955276,0.775304,0.37135),
    RGB{Float64}(0.497517,0.4913,0.269587),
    RGB{Float64}(0.880421,0.851357,0.538013),
    RGB{Float64}(0.738879,0.709218,0.441082)
    ], &quot;&quot;, &quot;&quot;)</code></pre><p>(Extracting color schemes from images may require you to install image importing and exporting abilities. These are platform-specific. On Linux/UNIX, ImageMagick.jl can be used for importing and exporting images. Use QuartzImageIO.jl on macOS.)</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ColorSchemeTools.extract" href="#ColorSchemeTools.extract"><code>ColorSchemeTools.extract</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">extract(imfile, n=10, i=10, tolerance=0.01; shrink=n)</code></pre><p><code>extract()</code> extracts the most common colors from an image from the image file <code>imfile</code> by finding <code>n</code> dominant colors, using <code>i</code> iterations. You can (and probably should) shrink larger images before running this function.</p><p>Returns a ColorScheme.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/ColorSchemeTools.jl/blob/2a7f216d4c996101212a47fd528122070ff0e8ad/src/ColorSchemeTools.jl#L29-L37">source</a></section><h2><a class="nav-anchor" id="Sorting-color-schemes-1" href="#Sorting-color-schemes-1">Sorting color schemes</a></h2><p>Use <code>sortcolorscheme()</code> to sort a scheme non-destructively in the LUV color space:</p><pre><code class="language-none">using ColorSchemes
sortcolorscheme(ColorSchemes.leonardo)
sortcolorscheme(ColorSchemes.leonardo, rev=true)</code></pre><p>The default is to sort colors by their LUV luminance value, but you could try specifying the <code>:u</code> or <code>:v</code> LUV fields instead (sorting colors is another problem domain not really addressed in this package...):</p><pre><code class="language-none">sortcolorscheme(ColorSchemes.leonardo, :u)</code></pre><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ColorSchemeTools.sortcolorscheme" href="#ColorSchemeTools.sortcolorscheme"><code>ColorSchemeTools.sortcolorscheme</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">sortcolorscheme(colorscheme::ColorScheme, field; kwargs...)</code></pre><p>Sort (non-destructively) a colorscheme using a field of the LUV colorspace.</p><p>The less than function is <code>lt = (x,y) -&gt; compare_colors(x, y, field)</code>.</p><p>The default is to sort by the luminance field <code>:l</code> but could be by <code>:u</code> or <code>:v</code>.</p><p>Returns a new ColorScheme.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/ColorSchemeTools.jl/blob/2a7f216d4c996101212a47fd528122070ff0e8ad/src/ColorSchemeTools.jl#L127-L137">source</a></section><h2><a class="nav-anchor" id="Weighted-colorschemes-1" href="#Weighted-colorschemes-1">Weighted colorschemes</a></h2><p>Sometimes an image is dominated by some colors with others occurring less frequently. For example, there may be much more brown than yellow in a particular image. A colorscheme derived from this image can reflect this. You can extract both a set of colors and a set of numerical values or weights that indicate the proportions of colors in the image.</p><pre><code class="language-none">cs, wts = extract_weighted_colors(&quot;monalisa.jpg&quot;, 10, 15, 0.01; shrink=2)</code></pre><p>The ColorScheme is now in <code>cs</code>, and <code>wts</code> holds the various weights of each color:</p><pre><code class="language-none">wts

    10-element Array{Float64,1}:
     0.0521126446851636
     0.20025391828582884
     0.08954703056671294
     0.09603605342678319
     0.09507086696018234
     0.119987526821047
     0.08042973071297582
     0.08863381567908292
     0.08599068966285295
     0.09193772319937041</code></pre><p>With the ColorScheme and the weights, you can make a new color scheme in which the more common colors take up more space in the scheme:</p><pre><code class="language-none">len = 50
colorscheme_weighted(cs, wts, len)</code></pre><p>Or in one go:</p><pre><code class="language-none">colorscheme_weighted(extract_weighted_colors(&quot;monalisa.jpg&quot; # ...</code></pre><p>Compare the weighted and unweighted versions of schemes extracted from the Hokusai image &quot;The Great Wave&quot;:</p><p><img src="assets/figures/hok-scheme-unweighted.png" alt="&quot;unweighted&quot;"/></p><p><img src="assets/figures/hok-scheme-weighted.png" alt="&quot;weighted&quot;"/></p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ColorSchemeTools.extract_weighted_colors" href="#ColorSchemeTools.extract_weighted_colors"><code>ColorSchemeTools.extract_weighted_colors</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">extract_weighted_colors(imfile, n=10, i=10, tolerance=0.01; shrink = 2)</code></pre><p>Extract colors and weights of the clusters of colors in an image file. Returns a ColorScheme and weights.</p><p>Example:</p><pre><code class="language-none">pal, wts = extract_weighted_colors(imfile, n, i, tolerance; shrink = 2)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/ColorSchemeTools.jl/blob/2a7f216d4c996101212a47fd528122070ff0e8ad/src/ColorSchemeTools.jl#L43-L54">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ColorSchemeTools.colorscheme_weighted" href="#ColorSchemeTools.colorscheme_weighted"><code>ColorSchemeTools.colorscheme_weighted</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">colorscheme_weighted(colorscheme, weights, length)</code></pre><p>Returns a new ColorScheme of length <code>length</code> (default 50) where the proportion of each color in <code>colorscheme</code> is represented by the associated weight of each entry.</p><p>Examples:</p><pre><code class="language-none">colorscheme_weighted(extract_weighted_colors(&quot;hokusai.jpg&quot;)...)
colorscheme_weighted(extract_weighted_colors(&quot;filename00000001.jpg&quot;)..., 500)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaGraphics/ColorSchemeTools.jl/blob/2a7f216d4c996101212a47fd528122070ff0e8ad/src/ColorSchemeTools.jl#L77-L90">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="convertingimages.html"><span class="direction">Next</span><span class="title">Converting image colors</span></a></footer></article></body></html>
